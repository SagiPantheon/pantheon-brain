<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Пантеон науки</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
    }
    #title {
      position: absolute;
      top: 20px;
      width: 100%;
      font-size: 36px;
      font-weight: bold;
      color: cyan;
      text-shadow: 0 0 15px blue, 0 0 30px cyan;
    }
    #disciplines {
      position: absolute;
      bottom: 20px;
      width: 100%;
      font-size: 18px;
      color: lightgray;
      text-shadow: 0 0 5px black;
    }
    #tooltip {
      position: absolute;
      background: rgba(0,0,0,0.85);
      color: white;
      padding: 10px;
      border-radius: 10px;
      font-size: 14px;
      display: none;
      pointer-events: none;
      text-align: center;
    }
    #tooltip img {
      width: 80px;
      border-radius: 50%;
      margin-top: 5px;
      box-shadow: 0 0 10px cyan;
    }
  </style>
</head>
<body>
  <div id="title">Пантеон науки</div>
  <div id="tooltip"></div>
  <div id="disciplines">
    Физика • Астрономия • Биология • Химия • Технологии • Философия • История • Медицина
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/controls/OrbitControls.js"></script>

  <script>
    // Сцена
    const scene = new THREE.Scene();

    // Камера
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 6;

    // Рендер
    const renderer = new THREE.WebGLRenderer({antialias: true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Контролы
    const controls = new THREE.OrbitControls(camera, renderer.domElement);

    // Свет
    const ambient = new THREE.AmbientLight(0x404040, 2);
    scene.add(ambient);

    const pointLight = new THREE.PointLight(0x00ffff, 2, 100);
    pointLight.position.set(10, 10, 10);
    scene.add(pointLight);

    // Звёздный фон
    const starGeometry = new THREE.BufferGeometry();
    const starCount = 1000;
    const starVertices = [];
    for (let i = 0; i < starCount; i++) {
      const x = (Math.random() - 0.5) * 2000;
      const y = (Math.random() - 0.5) * 2000;
      const z = (Math.random() - 0.5) * 2000;
      starVertices.push(x, y, z);
    }
    starGeometry.setAttribute("position", new THREE.Float32BufferAttribute(starVertices, 3));
    const starMaterial = new THREE.PointsMaterial({color: 0xffffff});
    const stars = new THREE.Points(starGeometry, starMaterial);
    scene.add(stars);

    // Материал для нейронов
    const neuronMaterial = new THREE.PointsMaterial({
      color: 0x00ffff,
      size: 0.06,
      transparent: true,
      opacity: 0.9
    });

    // Мозг (сфера из точек)
    const brainGeometry = new THREE.SphereGeometry(2, 32, 32);
    const neurons = new THREE.Points(brainGeometry, neuronMaterial);
    scene.add(neurons);

    // Линии-синапсы
    const synapseMaterial = new THREE.LineBasicMaterial({color: 0x00ffff, transparent: true, opacity: 0.4});
    const synapseGeometry = new THREE.BufferGeometry();
    const synapseVertices = [];

    const neuronPositions = brainGeometry.attributes.position.array;
    for (let i = 0; i < neuronPositions.length; i += 9) {
      if (Math.random() > 0.97) { // не слишком много связей
        const x1 = neuronPositions[i], y1 = neuronPositions[i+1], z1 = neuronPositions[i+2];
        const x2 = neuronPositions[i+3], y2 = neuronPositions[i+4], z2 = neuronPositions[i+5];
        synapseVertices.push(x1,y1,z1, x2,y2,z2);
      }
    }

    synapseGeometry.setAttribute("position", new THREE.Float32BufferAttribute(synapseVertices, 3));
    const synapses = new THREE.LineSegments(synapseGeometry, synapseMaterial);
    scene.add(synapses);

    // Учёные
    const scientists = [
      { name: "Альберт Эйнштейн", img: "https://upload.wikimedia.org/wikipedia/commons/d/d3/Albert_Einstein_Head.jpg" },
      { name: "Исаак Ньютон", img: "https://upload.wikimedia.org/wikipedia/commons/f/f5/Isaac.Newton.jpg" },
      { name: "Мария Кюри", img: "https://upload.wikimedia.org/wikipedia/commons/7/79/Marie_Curie_c1920.jpg" },
      { name: "Чарльз Дарвин", img: "https://upload.wikimedia.org/wikipedia/commons/7/79/Charles_Darwin_1880.jpg" },
      { name: "Никола Тесла", img: "https://upload.wikimedia.org/wikipedia/commons/d/d4/N.Tesla.JPG" },
      { name: "Стивен Хокинг", img: "https://upload.wikimedia.org/wikipedia/commons/e/eb/Stephen_Hawking.StarChild.jpg" }
    ];

    // Tooltip
    const tooltip = document.getElementById("tooltip");

    // Луч для взаимодействия
    const raycaster = new THREE.Raycaster();
    const mouse = new THREE.Vector2();

    window.addEventListener("mousemove", (event) => {
      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

      raycaster.setFromCamera(mouse, camera);
      const intersects = raycaster.intersectObject(neurons);

      if (intersects.length > 0) {
        const scientist = scientists[Math.floor(Math.random() * scientists.length)];
        tooltip.style.display = "block";
        tooltip.style.left = event.clientX + 15 + "px";
        tooltip.style.top = event.clientY + 15 + "px";
        tooltip.innerHTML = `<b>${scientist.name}</b><br><img src="${scientist.img}">`;
      } else {
        tooltip.style.display = "none";
      }
    });

    // Анимация
    function animate() {
      requestAnimationFrame(animate);
      neurons.rotation.y += 0.002;
      synapses.rotation.y += 0.002;
      stars.rotation.y += 0.0005;
      renderer.render(scene, camera);
    }
    animate();

    // Адаптивность
    window.addEventListener("resize", () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
